clear all;clc;


p=[-1 -1 1 1 -1 -1 -1, -1 -1 -1 1 -1 -1 -1, -1 -1 -1 1 -1 -1 -1, -1 -1 1 -1 1 -1 -1,...
   -1 -1 1 -1 1 -1 -1, -1 1 1 1 1 1 -1, -1 1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, 1 1 1 -1 1 1 1 1;...

   -1 -1 -1 1 -1 -1 -1, -1 -1 -1 1 -1 -1 -1, -1 -1 -1 1 -1 -1 -1, -1 -1 1 -1 1 -1 -1,...
   -1 -1 1 -1 1 -1 -1, -1 1 -1 -1 -1 1 -1, -1 1 1 1 1 1 -1, -1 1 1 1 1 1 -1, -1 1 -1 -1 -1 1 -1 1;...

   -1 -1 -1 1 -1 -1 -1, -1 -1 -1 1 -1 -1 -1, -1 -1 1 -1 1 -1 -1, -1 -1 1 -1 1 -1 -1,...
   -1 1 -1 -1 -1 1 -1, -1 1 1 1 1 1 -1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1, 1 1 -1 -1 -1 1 1 1;... % A fonts and letter
   
   
   1 1 1 1 1 1 -1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1,...
   -1 1 1 1 1 1 -1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, 1 1 1 1 1 1 -1 1;...

   1 1 1 1 1 1 -1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1,...
   1 1 1 1 1 1 -1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1, 1 1 1 1 1 1 -1 1;...
   
   1 1 1 1 1 1 -1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 1 1 1 1 -1,...
   -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, 1 1 1 1 1 1 -1 1;... %B 
   
   
   -1 -1 1 1 1 1 1, -1 1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1,...
   1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, -1 1 -1 -1 -1 -1 1, -1 -1 1 1 1 1 -1 1;...
   
   -1 -1 1 1 1 -1 -1, -1 1 -1 -1 -1 1 -1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 -1,...
   1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 1 -1, -1 -1 1 1 1 -1 -1 1;...
   
   -1 -1 1 1 1 -1 1, -1 1 -1 -1 -1 1 -1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 -1,...
   1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 1 -1, -1 -1 1 1 1 -1 -1 1;... %C
   
   
   1 1 1 1 1 -1 -1, 1 1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1,...
   -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 1 -1, 1 1 1 1 1 -1 -1 1;...

   1 1 1 1 1 -1 -1, 1 -1 -1 -1 -1 1 -1, 1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1,...
   1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 1,1 -1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 1 -1, 1 1 1 1 1 -1 -1 1;

   1 1 1 1 1 -1 -1, -1 1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1,...
   -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 1 -1, 1 1 1 1 1 -1 -1 1;... %D
   
   
   1 1 1 1 1 1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 -1 -1 -1, -1 1 -1 1 -1 -1 -1,...
    -1 1 1 1 -1 -1 -1, -1 1 -1 1 -1 -1 -1, -1 1 -1 -1 -1 -1 -1, -1 1 -1 -1 -1 -1 1,1 1 1 1 1 1 1 1;...
    
    1 1 1 1 1 1 1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1,...
    1 1 1 1 1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1,1 1 1 1 1 1 1 1;...
    
    1 1 1 1 1 1 1, -1 1 -1 -1 -1 -1 1, -1 1 -1 -1 1 -1 -1, -1 1 -1 1 -1 -1 -1,...
    -1 1 1 1 -1 -1 -1, -1 1 -1 1 -1 -1 -1, -1 1 -1 -1 -1 -1 -1, -1 1 -1 -1 -1 -1 1,1 1 1 1 1 1 1 1; %E
  
    
    -1 -1 -1 1 1 1 1, -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1,...
    -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, -1 -1 1 1 1 -1 -1 1;
    
    -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1,...
    -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, -1 -1 1 1 1 -1 -1 1;
    
    -1 -1 -1 -1 1 1 1, -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1,...
    -1 -1 -1 -1 -1 1 -1, -1 -1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, -1 1 -1 -1 -1 1 -1, -1 -1 1 1 1 -1 -1 1;%J
    
    
    
    1 1 1 -1 -1 1 1, -1 1 -1 -1 1 -1 -1, -1 1 -1 1 -1 -1 -1, -1 1 1 -1 -1 -1 -1,... 
    -1 1 1 -1 -1 -1 -1, -1 1 -1 1 -1 -1 -1, -1 1 -1 -1 1 -1 -1, -1 1 -1 -1 -1 1 -1, 1 1 1 -1 -1 1 1 1;
    
   1 -1 -1 -1 -1 1 -1, 1 -1 -1 -1 1 -1 -1, 1 -1 -1 1 -1 -1 -1, 1 -1 1 -1 -1 -1 -1, ...
    1 1 -1 -1 -1 -1 -1, 1 -1 1 -1 -1 -1 -1, 1 -1 -1 1 -1 -1 -1, 1 -1 -1 -1 1 -1 -1,1 -1 -1 -1 -1 1 -1 1;
    
   1 1 1 -1 -1 1 1, -1 1 -1 -1 -1 1 -1, -1 1 -1 -1 1 -1 -1, -1 1 -1 1 -1 -1 -1,... 
    -1 1 1 -1 -1 -1 -1, -1 1 -1 1 -1 -1 -1, -1 1 -1 -1 1 -1 -1, -1 1 -1 -1 -1 1 -1, 1 1 1 -1 -1 1 1 1]; %K
p=p';
t=[-1 -1 -1 ;  -1 -1 -1 ;  -1 -1 -1;
    -1 -1 1 ; -1 -1 1;-1 -1 1;
    -1 1 -1 ; -1 1 -1; -1 1 -1;
    -1 1 1 ;-1 1 1;-1 1 1;
    1 -1 -1;1 -1 -1;1 -1 -1;
    1 -1 1 ;1 -1 1 ;1 -1 1 ;
    1 1 -1 ;1 1 -1 ;1 1 -1];
t=t';

%% Training
no_layer=[1,2];
no_nodes=[5,10];
fprintf('Number of nodes in 2 layer %1.0f and %1.0f\n',no_nodes)

net=feedforwardnet(no_nodes,...
    'traincgb');
net=configure(net,p,t);
net.divideFcn='';
net.trainParam.show=100;
net.trainParam.epochs=6000;
net.trainParam.goal=1e-8;
[net,tr]=train(net,p,t);
a=sim(net,p)
fprintf('Training result                                         Target\n')
disp([a',t'])
%% Testing
ptest=[-1 -1 1 1 1 1 1
    -1 1 -1 -1 -1 -1 1
    1 -1 -1 -1 -1 -1 -1
    1 -1 -1 -1 -1 -1 -1
   1 -1 -1 -1 -1 -1 -1
   1 -1 -1 -1 -1 -1 -1
   1 -1 -1 -1 -1 -1 -1
   -1 1 -1 -1 -1 -1 1
   -1 -1 1 1 1 1 -1];
hintonw(ptest);
ptest=[-1 -1 -1 1 1 1 1, -1 1 -1 -1 -1 -1 1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1,...
    1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, 1 -1 -1 -1 -1 -1 -1, -1 1 -1 -1 -1 -1 1, -1 -1 1 1 1 1 -1 1];
ptest=ptest';
atest=sim(net,ptest)


